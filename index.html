
<html>
	<head>
		<title></title>

		<link href="https://fonts.googleapis.com/css?family=Parisienne" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">

		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		
		<style type="text/css">
			#actualBody {
				line-height: 1.5em;
			}

			body {
				background: black;
				background-attachment: fixed;
				background-image: url('images/HandBackground.png');
				background-position: center bottom;
				background-repeat: no-repeat;
				color: #333;
				font-family: 'Raleway', sans-serif;
				margin: 0 auto;
    			max-width: 750px;
			}

			#bodyWrapper {
				background: white;
				height: inherit; min-height: 100%;
				padding: 1.5em 1em;
			}

			.center {
				text-align: center;
			}

			h1, h2, h3, h4, h5 {
				font-family: 'Parisienne', cursive;
				font-weight: 400;
			}

			.item-date {
				font-size: 1em;
			}

			.item-title {
				font-size: 2em;
			}

			#title {
				font-family: 'Parisienne', cursive;
				text-align: center;
			}
		</style>
		
		<script src="scripts/jquery-3.1.1.min.js"></script>

		<!-- Path.js provides path (yeah...) handling to make this behave like an actual web app -->
		<script src="scripts/path.min.js"></script>

		<script src="scripts/showdown.min.js"></script>
		
		<script type="text/javascript"> 
			var items = [];
			var converter = new showdown.Converter();
					
			function addItem(title, filename, date, hidden = false) {
				var item = { title: title, filename: filename, date: date, hidden: hidden };

				items.push(item);

				Path.map("#/" + filename)
					.to(function(){
					    loadItem(filename);
					});
			}

			function entryPoint() {
				$("#items").change(function () {
					window.location.href = window.location.origin + "/#/" + this.value;
				});
			
				// At least we need a "home" item to serve as the landing one
				Path.root("#/home");

				Path.rescue(function () {
				    window.location.href = window.location.origin + "/#/404";
				});
					
				Path.listen();
			}
			
			function loadItem(filename) {
				var actualPath = "items/" + filename + ".md";
			
				$.get(actualPath, function (data) {
					var item = items.find(function(item) { 
						return item.filename == filename;
					});

					document.title = item.title;
			
					var title = '<span class="item-title">' + item.title + '</span>';

					if (item.filename != "home")
						title += '<br /><span class="item-date">' + item.date + '</span>';
		
					$("#title").html(title);
			
    				var body = converter.makeHtml(data);

					$("#actualBody").html(body);

					window.scrollTo(0, 0);
				});
			}
		</script>

		<script src="items/items.js"></script>
	</head>
	<body onload='entryPoint()'>
		<div id="bodyWrapper">
			<div id="title">
			</div>
			
			<div id="actualBody">
				<div class="center">⏳</div>
			</div>

			<p>
				–<a href="#/home">Marcos Cobeña-Morián</a>
			</p>
		</div>
	</body>
</html>
